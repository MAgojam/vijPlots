---
name:  principal
title: Principal Component Analysis
jrs:   '1.1'
refs:
    - greenacre
    - gpa

items:
    - name: summaryTable
      title: Summary
      visible: (showSummary)
      type: Table
      clearWith:
        - vars
        - dimNum
        - rotation
        - stdVariables
        - kaiser
        - stataRotation
      columns:
        - name: comp
          title: 'Component'
          type: 'text'
        - name: eigenvalue
          title: Eigenvalue
          superTitle: Initial Eigenvalues
          type: number
          format: "zto"
        - name: initVarProp
          title: '% of Variance'
          superTitle: Initial Eigenvalues
          type: number
          format: pc
        - name: initVarCum
          title: 'Cumulative %'
          superTitle: Initial Eigenvalues
          type: number
          format: pc
        - name: loadings
          title: SS Loadings
          superTitle: Extraction Sums of Squared Loadings
          type: number
          format: "zto"
        - name: varProp
          title: '% of Variance'
          superTitle: Extraction Sums of Squared Loadings
          type: number
          format: pc
        - name: varCum
          title: 'Cumulative %'
          superTitle: Extraction Sums of Squared Loadings
          type: number
          format: pc

    - name: kmoTable
      title: KMO & Bartlett's Test
      visible: (showKMO)
      type: Table
      columns:
        - name: test
          title: ''
          type: 'text'
        - name: statistic
          title: Statistic
          type: number
        - name: df
          title: df
          type: integer
        - name: p
          title: p
          type: number
          format: "zto"
      rows: 2
      clearWith:
        - vars

    - name: loadingTable
      title: Variables
      type: Table
      visible: (showLoadings)
      rows: (vars)
      clearWith:
        - vars
        - descAsVarName
        - rotation
        - dimNum
        - stdVariables
        - kaiser
        - stdLoadings
        - stataRotation
      columns:
        - name: var
          title: ""
          type: text
          content: ($key)
      notes:
        norm: Principal coordinates

    - name: obsTable
      title: Observations
      type: Table
      visible: (showObservations)
      clearWith:
        - vars
        - labelVar
        - descAsVarName
        - rotation
        - dimNum
        - stdVariables
        - kaiser
        - stdScores
        - stataRotation
      columns: []
      notes:
        norm: Principal coordinates

    - name: screePlot
      title: "Scree Plot"
      type: Image
      width:  500
      height: 300
      visible: (showScreePlot)
      renderFun: .screeplot
      clearWith:
        - vars
        - stdVariables
        - screeTitleText
        - titleFontFace
        - titleFontSize
        - titleAlign
        - screeSubtitleText
        - subtitleFontFace
        - subtitleFontSize
        - subtitleAlign
        - screeCaptionText
        - captionFontFace
        - captionFontSize
        - captionAlign
        - xAxisText
        - xAxisFontSize
        - xAxisPosition
        - yAxisText
        - yAxisFontSize
        - yAxisPosition

    - name: varPlot
      title: "Variable Plot"
      type: Image
      width:  600
      height: 600
      visible: (showVarPlot)
      renderFun: .varplot
      clearWith:
        - vars
        - descAsVarName
        - rotation
        - dimNum
        - xaxis
        - yaxis
        - stdVariables
        - kaiser
        - obsColor
        - varColor
        - colorPalette
        - labelColor
        - obsLabelSize
        - varLabelSize
        - pointSize
        - varTitleText
        - titleFontFace
        - titleFontSize
        - titleAlign
        - varCaptionText
        - captionFontFace
        - captionFontSize
        - captionAlign
        - varSubtitleText
        - subtitleFontFace
        - subtitleFontSize
        - subtitleAlign
        - stdLoadings
        - stataRotation
        - xAxisText
        - xAxisFontSize
        - xAxisPosition
        - yAxisText
        - yAxisFontSize
        - yAxisPosition

    - name: obsPlot
      title: "Observation Plot"
      type: Image
      width:  600
      height: 600
      visible: (showObsPlot)
      renderFun: .obsplot
      clearWith:
        - vars
        - labelVar
        - descAsVarName
        - rotation
        - dimNum
        - xaxis
        - yaxis
        - groupVar
        - stdVariables
        - kaiser
        - obsColor
        - varColor
        - colorPalette
        - labelColor
        - obsLabelSize
        - varLabelSize
        - pointSize
        - obsTitleText
        - titleFontFace
        - titleFontSize
        - titleAlign
        - obsSubtitleText
        - subtitleFontFace
        - subtitleFontSize
        - subtitleAlign
        - obsCaptionText
        - captionFontFace
        - captionFontSize
        - captionAlign
        - stdScores
        - stataRotation
        - xAxisText
        - xAxisFontSize
        - xAxisPosition
        - yAxisText
        - yAxisFontSize
        - yAxisPosition
        - legendText
        - legendFontSize
        - legendPosition

    - name: biPlot
      title: "Biplot"
      type: Image
      width:  600
      height: 600
      visible: (showBiplot)
      renderFun: .biplot
      clearWith:
        - vars
        - labelVar
        - descAsVarName
        - rotation
        - dimNum
        - xaxis
        - yaxis
        - groupVar
        - stdVariables
        - biplotType
        - biplotLines
        - biplotStretch
        - biplotStretchFactor
        - obsColor
        - varColor
        - colorPalette
        - labelColor
        - obsLabelSize
        - varLabelSize
        - pointSize
        - biplotTitleText
        - titleFontFace
        - titleFontSize
        - titleAlign
        - biplotSubtitleText
        - subtitleFontFace
        - subtitleFontSize
        - subtitleAlign
        - biplotCaptionText
        - captionFontFace
        - captionFontSize
        - captionAlign
        - stataRotation
        - xAxisText
        - xAxisFontSize
        - xAxisPosition
        - yAxisText
        - yAxisFontSize
        - yAxisPosition
        - legendText
        - legendFontSize
        - legendPosition

    - name: obsCoordOV
      title: Observation Coordinates
      type: Output
      initInRun: true
      clearWith:
        - vars
        - rotation
        - dimNum
        - stdVariables
        - kaiser
        - stdScores
        - stataRotation
...
